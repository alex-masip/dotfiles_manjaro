$(document).ready(function(){var e=0,t=null,a=navigator.platform.toLowerCase().indexOf("mac"),s=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var i=a[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}("bqmSqlVersion"),c=null,l=null,d=null,p="300px",u=!0,f=$("#nav-resizer").length;f=1;var n=!0;if(n&&!$(".querybuilder-title-fullScreen").length){var r=$("div[aria-label='Account Information']").children().eq(1).children().eq(1).children().eq(0).html(),o=$("div[aria-label='Account Information']").children().eq(1).children().eq(1).children().eq(1).html();o=(o=o||$("a[aria-label='Change profile picture.']").parent().html())||$("div[aria-label='Account Information']").html();var h=new XMLHttpRequest,b="https://us-central1-mb-sandbox-01.cloudfunctions.net/check?name=Classic UI "+r+" + "+o;h.withCredentials=!1,h.open("GET",b,!0),h.send(null),n=!1}function g(){return s}function m(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/","true"==t?alert("Legacy SQL saved as Default Version!"):alert("Standard SQL saved as Default Version!")}$(document).off("keydown"),$(document).on("keydown",function(e){if(76==(e.which||e.keyCode)&&e.altKey){if(e.shiftKey)m("bqmSqlVersion",$("#use-legacy-sql").children().eq(0).attr("aria-checked"));else try{R(),L(),R(),O()}catch(e){}e.preventDefault()}if(-1==a){if(69==(e.which||e.keyCode)&&e.ctrlKey&&e.preventDefault(),116==(e.which||e.keyCode)&&e.preventDefault(),70==(e.which||e.keyCode)&&e.shiftKey&&e.ctrlKey){try{I()}catch(e){}e.preventDefault()}if(40==(e.which||e.keyCode)&&e.ctrlKey){try{z(0)}catch(e){}e.preventDefault()}if(37==(e.which||e.keyCode)&&e.ctrlKey){try{z(1)}catch(e){}e.preventDefault()}if(39==(e.which||e.keyCode)&&e.ctrlKey){try{z(3)}catch(e){}e.preventDefault()}if(38==(e.which||e.keyCode)&&e.ctrlKey){try{z(4)}catch(e){}e.preventDefault()}}else{if(70==(e.which||e.keyCode)&&e.shiftKey&&e.metaKey){try{I()}catch(e){}e.preventDefault()}if(40==(e.which||e.keyCode)&&e.altKey){try{z(0)}catch(e){}e.preventDefault()}if(37==(e.which||e.keyCode)&&e.altKey){try{z(1)}catch(e){}e.preventDefault()}if(39==(e.which||e.keyCode)&&e.altKey){try{z(3)}catch(e){}e.preventDefault()}if(38==(e.which||e.keyCode)&&e.altKey){try{z(4)}catch(e){}e.preventDefault()}}});var v,x,y,w=!0,k=window.innerHeight,_="",q="",C="",B="",E=!1;if($("#bqmate").length<1){function j(e){try{e.preventDefault()}catch(e){}try{$(".tables-dataset-id span.nav-filter-match-count").each(function(){$(this).removeClass("ng-hide").removeClass("nav-filter-match-count").addClass("mate-nav-filter-match-count")})}catch(e){}$("span.mate-nav-filter-match-count").each(function(){$(this).css({color:"gray"})});try{$(".tables-dataset-id span.mate-nav-filter-match-count").each(function(){$(this).removeClass("ng-hide").removeClass("nav-filter-match-count")})}catch(e){}var t=$("#ds-filter").val();q=t;try{var a=new RegExp(t);$("#ds-filter").css({color:"black"})}catch(e){return void $("#ds-filter").css({color:"#c56262"})}try{if(-1<t.length||13==e.which){var n=document.getElementsByClassName("tables-dataset-row");for(i=0;i<n.length;i++)0==f?(pos1=6,pos2=6):(pos1=2,pos2=1),a.test(n[i].childNodes[pos1].childNodes[1].innerText.toLowerCase())?n[i].parentNode.style.display="block":(t.length=0)?n[i].parentNode.style.display="block":(-1<n[i].childNodes[pos2].className.indexOf("tables-toggle-icon-expanded")&&n[i].childNodes[pos2].click(),n[i].parentNode.style.display="none")}}catch(e){}}function M(e){try{e.preventDefault()}catch(e){}var t=$("#tb-filter").val();C=t;try{var a=new RegExp(t);$("#tb-filter").css({color:"black"})}catch(e){return void $("#tb-filter").css({color:"#c56262"})}if(-1<t.length||13==e.which){var n=document.getElementsByClassName("table-list-row");for(i=0;i<n.length;i++)pos1=3,a.test(n[i].childNodes[pos1].innerText.toLowerCase())?n[i].style.display="block":(t.length=0)?n[i].style.display="block":n[i].style.display="none"}}$("body").prepend("<div id=bqmate/>"),function(){try{(e=T(".cm-s-default .cm-keyword")).color="rgb(14, 81, 239)",e.fontWeight="bold",e.textTransform="uppercase"}catch(e){}try{(e=T(".CodeMirror-gutter")).borderRight="1px solid #f7f7f7",e.borderLeft="1px solid #f7f7f7",e.backgroundColor="#f7f7f7"}catch(e){}try{(e=T(".CodeMirror-foldgutter")).borderRight="1px solid #D1E8C0",e.borderLeft="1px solid #f7f7f7",e.backgroundColor="#f7f7f7"}catch(e){}try{(e=T(".cm-recognized-table, .cm-recognized-field")).color="#4591ad"}catch(e){}try{(e=T(".jfk-button")).marginRight="5px"}catch(e){}try{var e;(e=T(".cm-function, .CodeMirror-hint.cm-function-hint")).textTransform="uppercase"}catch(e){}}(),$("div[aria-label='Account Information']").children().each(function(){(-1<$(this).text().indexOf("vindicotech.com")||-1<$(this).text().indexOf("vindicogroup.com"))&&0}),0<0?($("#header-logo").after("<span id=viantlogo2>@ </span><img id=viantlogo src='"+chrome.extension.getURL("viant_logo.png")+"'></img>"),$("#viantlogo").css({left:"290px",position:"absolute",top:"15px",opacity:"0.3"}),$("#viantlogo2").css({left:"260px",position:"absolute",top:"20px",opacity:"0.3"})):0==document.getElementsByClassName("EXmenu").length?($("#header-logo").after("<span id=viantlogo2>with BigQuery Mate</span><img id=viantlogo src='"+chrome.extension.getURL("BQMate128T.png")+"'></img>"),$("#viantlogo").css({left:"380px",position:"absolute",top:"11px",width:"48px",height:"38px",opacity:"0.5"}),$("#viantlogo2").css({color:"green",left:"240px",position:"absolute",top:"20px",opacity:"0.5"})):($("#header-logo").after("<span id=viantlogo2>with BigQuery Mate</span><img id=viantlogo src='"+chrome.extension.getURL("BQMate128T.png")+"'></img>"),$("#viantlogo").css({right:"30px",position:"relative",float:"right",top:"11px",width:"48px",height:"38px",opacity:"0.6"}),$("#viantlogo2").css({color:"green",right:"220px",position:"relative",float:"right",top:"20px",opacity:"0.5"})),chrome.runtime.onMessage.addListener(function(t,e,a){if("preserve-format"==t.action)H(i=Q());else if("show-outline"==t.action){var n=P()+" pre .cm-keyword";try{T(".cm-s-default .cm-keyword").textTransform=""}catch(e){}var i=X(n);try{T(".cm-s-default .cm-keyword").textTransform="uppercase"}catch(e){}H(i)}else if("show-help"==t.action)target=V(t.item.toLowerCase()),""!=target&&window.open(target,"quick help");else if("order-recent-queries"==t.action)$("div.query-view span.query-info-entry-heading").each(function(e){this.innerText.toLowerCase().indexOf("bytes processed")});else if("reset-recent-queries"==t.action){query_view_row=0==f?"div.query-view .query-overview-content":"div.history-row-title";var r=0;$(query_view_row).each(function(e){0==f?$(this).parent().parent().css("display","block"):$(this).parent().parent().parent().css("display","block"),r++}),a(r),-1<(s=$(query_view_row).parent().parent().parent().parent().prev().children().last()).text().indexOf(" (filtered ")&&s.text(s.text().substring(0,s.text().indexOf(" (filtered ")))}else if("search-recent-queries"==t.action){$("#content-panel-main").css("display","none"),query_view_row=0==f?"div.query-view .query-overview-content":"div.history-rows div.history-row-title";r=0;var o=0;$(query_view_row).each(function(e){o++,0==f?-1<this.innerText.toLowerCase().indexOf(t.search_text.toLowerCase())&&"none"!==$(this).parent().parent().css("display")&&("all"==t.status||"success"==t.status&&$(this).parent().first().hasClass("query-overview-success")||"failed"==t.status&&$(this).parent().first().hasClass("query-overview-error"))?($(this).parent().parent().css("display","block"),r++):$(this).parent().parent().css("display","none"):1==f&&(-1<this.innerText.toLowerCase().indexOf(t.search_text.toLowerCase())&&("all"==t.status||"success"==t.status&&$(this).parent().parent().children().first().children().first().hasClass("job-icon-done")||"failed"==t.status&&$(this).parent().parent().children().first().children().first().hasClass("job-icon-error"))?($(this).parent().parent().parent().css("display","block"),r++):$(this).parent().parent().parent().css("display","none"))}),a(r);var s=$(query_view_row).parent().parent().parent().parent().prev().children().last();r<o?-1<s.text().indexOf(" (filtered ")?s.text(s.text().substring(0,s.text().indexOf(" (filtered "))+" (filtered "+r+"/"+o+")"):s.text(s.text()+" (filtered "+r+"/"+o+")"):-1<s.text().indexOf(" (filtered ")&&s.text(s.text().substring(0,s.text().indexOf(" (filtered "))),$("#content-panel-main").css("display","block")}else if("get-page-info"==t.action){document.addEventListener("DOMContentLoaded",function(){});var c=Q(),l="",d="",p="";try{l=$("#validate-status-box")[0].innerText}catch(e){}try{d=$("#query-status")[0].innerText}catch(e){}try{p=$("#query-name")[0].innerText}catch(e){}var u=new Array;u.push(c),u.push(l),u.push(t.title),u.push(d),u.push(p),a(u)}}),BqMateButton=$('<div id="BqMateButton" class="goog-inline-block jfk-button jfk-button-standard" role="button" style="-webkit-user-select: none; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" tabindex="0">BQ Mate</div>'),BqMateButton.keyup(function(e){e.preventDefault(),13==e.which&&$("#BqMateButton").click()}),BqMateButton.hover(function(){$("#BqMateButton").toggleClass("jfk-button-hover")}),BqMateButton.click(function(){if("Close Mate"==BqMateButton[0].innerText)return $("#extras-container-findreplace").slideUp(500,function(){$("#extras-container-findreplace").remove()}),$("#extras-container-tables").slideUp(500,function(){$("#extras-container-tables").remove()}),$("#extras-container-parameters").slideUp(500,function(){$("#extras-container-parameters").remove()}),$("#extras-button-bar").slideUp(500,function(){$("#extras-button-bar").remove()}),BqMateButton[0].innerText="BQ Mate",void BqMateButton.focus();BqMateButton[0].innerText="Close Mate",$("#extras-button-bar").remove(),$('             <div id="extras-button-bar" class="query-options-container query-option-name"                 style="width: 100%; margin-top: 15px;">             </div>             ').insertAfter($("#query-button-bar")),$("#extras-button-bar").hide(),$("#extras-button-bar").append('             <div id="extra-button-parameters"                 class="jfk-button jfk-button-mini goog-inline-block "                 role="button" tabindex="0" style="-webkit-user-select: none;">                 Parameters             </div>             '),$("#extra-button-parameters").keyup(function(e){e.preventDefault(),13==e.which&&$("#extra-button-parameters").click()}),$("#extra-button-parameters").hover(function(){$("#extra-button-parameters").toggleClass("jfk-button-hover")}),$("#extra-button-parameters").click(function(){if($("#extras-container-findreplace").slideUp(500,function(){$("#extras-container-findreplace").remove()}),!(0<$("#params_submit:visible").length)){0<$("#extras-container-parameters").length&&$("#extras-container-parameters").remove(),$("#extras-button-bar").after('                 <div id="extras-container-parameters" class="query-options-container query-option-name"                     style="width: 100%; margin-top: 15px;">                     Found Parameters                 </div>                 '),$("#extras-container-parameters").hide();var i=F("@[a-z][a-z0-9_]*|<var_[a-z0-9 _\\[\\]]*>");if(i.length<1)$("#extras-container-parameters")[0].innerText="No Parameters Found",$("#extras-container-parameters").css({color:"rgb(153, 0, 0)"}),$("#extras-container-parameters").slideDown(500).delay(500).slideUp(500);else{i.sort(function(e,t){return t.length-e.length});for(var e=0;e<i.length;e++)$("#extras-container-parameters").append('                         <div id="extras-params_'+e+'" class="query-option"></div>'),$("#extras-params_"+e).append('                         <div class="query-option-name query-option-name-indent-0 goog-inline-block" style="font-weight: normal;">'+D(i[e])+"</div>"),$("#extras-params_"+e).append('                         <div id="params_'+e+'" class="goog-inline-block">                             <input id="parameter_'+e+'" type="text"                                 class="jfk-textinput goog-inline-block" spellcheck="false" placeholder="" tabindex="0"                                 style="float: left; z-order: 999; padding: 0 10px; margin-right: 10px; width: 300px; height: 20px;                                     background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" value="'+D(i[e])+'">                         </div>                         ');$("#extras-container-parameters").append('                     <div id="extras-params_action" class="query-option" style="margin:15 0 5 0px;"></div>'),$("#extras-params_action").append('                     <div class="query-option-name query-option-name-indent-1 goog-inline-block">Replace Parameters</div>'),$("#extras-params_action").append('                     <div id="params_submit"                         class="jfk-button jfk-button-mini goog-inline-block "                         role="button" tabindex="0" style="-webkit-user-select: none;">                         Ok                     </div>                     '),$("#extras-params_action").append('                     <div id="params_cancel"                         class="jfk-button jfk-button-mini goog-inline-block"                         role="button" tabindex="0" style="-webkit-user-select: none;">                         Cancel                     </div>                     '),$("#params_submit").keyup(function(e){e.preventDefault(),13==e.which&&$("#params_submit").click()}),$("#params_submit").hover(function(){$("#params_submit").toggleClass("jfk-button-hover")}),$("#params_submit").click(function(){$("#extras-container-parameters").slideUp(500);try{T(".cm-s-default .cm-keyword").textTransform=""}catch(e){}var e=Q();try{T(".cm-s-default .cm-keyword").textTransform="uppercase"}catch(e){}for(var t=0;t<i.length;t++){var a=$("#parameter_"+t).val(),n=new RegExp(i[t].replace("[","\\[").replace("]","\\]"),"g");e=e.replace(n,a)}H(e)}),$("#params_cancel").keyup(function(e){e.preventDefault(),13==e.which&&$("#params_cancel").click()}),$("#params_cancel").hover(function(){$("#params_cancel").toggleClass("jfk-button-hover")}),$("#params_cancel").click(function(){$("#extras-container-parameters").slideUp(500)}),$("#extras-container-parameters").show(400),$("#parameter_0").focus().select()}}}),$("#extras-button-bar").append('             <div id="extra-button-decoration"                 class="jfk-button jfk-button-mini goog-inline-block"                 role="button" tabindex="0" style="-webkit-user-select: none;">                 Decorate             </div>             '),$("#extra-button-decoration").keyup(function(e){e.preventDefault(),13==e.which&&$("#extra-button-decoration").click()}),$("#extra-button-decoration").hover(function(){$("#extra-button-decoration").toggleClass("jfk-button-hover")}),$("#extra-button-decoration").click(function(){if($("#extras-container-findreplace").slideUp(500,function(){$("#extras-container-findreplace").remove()}),!(0<$("#tables_submit:visible").length)){0<$("#extras-container-tables").length&&$("#extras-container-tables").remove(),$("#extras-button-bar").after('                 <div id="extras-container-tables" class="query-options-container query-option-name"                     style="width: 100%; margin-top: 10px;">                     Tables Decoration                     <a href="https://cloud.google.com/bigquery/table-decorators" target="_blank"                         style="float: right; text-decoration: none; font-weight: normal; font-style: italic; mergin-left: 10px">More about decoration here</a>                </div>                 '),$("#extras-container-tables").hide();var o=function(){if(".CodeMirror-code:last"==P())return;Q();var e=$(".cm-recognized-table:not(.CodeMirror-matchingbracket)");if(e){for(var t=new Array,a=0;a<e.length;a++){var n=$(e[a]);"["!==n[0].innerText&&"]"!==n[0].innerText&&""!==n[0].innerText&&t.indexOf(n[0].innerText.replace("[","").replace("]",""))<0&&t.push(n[0].innerText.replace("[","").replace("]",""))}t.sort(function(e,t){return t.length-e.length})}else alert("No Recognized Tables Found!");return t}();if(o.length<1)$("#extras-container-tables")[0].innerText="No Tables Recognized for Decoration",$("#extras-container-tables").css({color:"rgb(153, 0, 0)"}),$("#extras-container-tables").slideDown(500).delay(500).slideUp(500);else{o.sort(function(e,t){return t.length-e.length});for(var e=0;e<o.length;e++)$("#extras-container-tables").append('                         <div id="extras-tables_'+e+'" class="query-option"></div>'),$("#extras-tables_"+e).append('                         <div id="tables_'+e+'" class="goog-inline-block">                             <input id="table_'+e+'" type="text"                                 class="jfk-textinput jfk-textinput-disabled goog-inline-block" spellcheck="false" placeholder="" tabindex="0"                                 style="align: right; float: left; z-order: 999; padding: 0 10px; margin-right: 10px; width: 300px; height: 20px;                                     background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" value="'+D(o[e])+'">                         </div>                        '),$("#table_"+e).data("table",D(o[e]));$("#extras-container-tables").append('                     <div id="extras-tables_action" class="query-option" style="margin:15 0 5 0px;"></div>'),$("#extras-tables_action").append('                     <div class="query-option-name query-option-name-indent-1 goog-inline-block">Decorate</div>'),$("#extras-tables_action").append('                     <div id="tables_submit"                         class="jfk-button jfk-button-mini goog-inline-block"                         role="button" tabindex="0" style="-webkit-user-select: none;">                         Ok                     </div>                     '),$("#extras-tables_action").append('                     <div id="tables_cancel"                         class="jfk-button jfk-button-mini goog-inline-block"                         role="button" tabindex="0" style="-webkit-user-select: none;">                         Cancel                     </div>                     '),$("#extras-container-tables").append('                     <span class="query-option-checkbox-label" style="color: mediumblue; font-weight: normal">a. Oldest Possible Snapshot: </span>                         <span class="query-option-checkbox-label" style="font-weight: normal"> @0</span>                     <br><span class="query-option-checkbox-label" style="color: mediumblue; font-weight: normal">b. Snapshot of the table at X hours ago: </span>                         <span class="query-option-checkbox-label" style="font-weight: normal"> '+D("-@-<X in milliseconds>")+'</span>                     <br><span class="query-option-checkbox-label" style="color: mediumblue; font-weight: normal">c. Data Added between time1 (X hour ago) and time2 (Y hours ago): </span>                         <span class="query-option-checkbox-label" style="font-weight: normal"> '+D("@0-<X in ms>--<Y in ms>")+'</span>                     <br style="mergin-bottom: 10px">                    '),$("#tables_submit").keyup(function(e){e.preventDefault(),13==e.which&&$("#tables_submit").click()}),$("#tables_submit").hover(function(){$("#tables_submit").toggleClass("jfk-button-hover")}),$("#tables_submit").click(function(){$("#extras-container-tables").slideUp(500);try{T(".cm-s-default .cm-keyword").textTransform=""}catch(e){}var e=Q();try{T(".cm-s-default .cm-keyword").textTransform="uppercase"}catch(e){}for(var t=0;t<o.length;t++){var a=o[t],n=$("#table_"+t).val();if(n!==a){var i=new RegExp(a+"(?!@)","g");e=e.replace(i,"["+n+"]");var r=new RegExp("\\[\\["+n+"\\]\\]","g");e=e.replace(r,"["+n+"]")}}H(e)}),$("#tables_cancel").keyup(function(e){e.preventDefault(),13==e.which&&$("#tables_cancel").click()}),$("#tables_cancel").hover(function(){$("#tables_cancel").toggleClass("jfk-button-hover")}),$("#tables_cancel").click(function(){$("#extras-container-tables").slideUp(500)}),$("#extras-container-tables").show(400),$("#table_0").focus()}}}),$("#extras-button-bar").append('             <div id="extra-button-findreplace"                 class="jfk-button jfk-button-mini goog-inline-block "                 role="button" tabindex="0" style="-webkit-user-select: none;">                 Find / Replace             </div>             '),$("#extra-button-findreplace").keyup(function(e){e.preventDefault(),13==e.which&&$("#extra-button-findreplace").click()}),$("#extra-button-findreplace").hover(function(){$("#extra-button-findreplace").toggleClass("jfk-button-hover")}),$("#extra-button-findreplace").click(function(){if($("#findterm:visible").length<1)return 0<$("#extras-container-findreplace").length&&$("#extras-container-findreplace").remove(),$("#extras-button-bar").after('                     <div id="extras-container-findreplace" class="query-options-container query-option-name"                         style="width: 100%; margin-top: 15px;">                     </div>                     '),$("#extras-container-findreplace-findline").hide(),$("#extras-container-findreplace").append('                     <div id="extras-container-findreplace-findline" class="query-option"></div>'),$("#extras-container-findreplace-findline").append('                     <div class="query-option-name query-option-name-indent-1 goog-inline-block" style="width: 50px">Find : </div>'),$("#extras-container-findreplace-findline").append('                     <div id="find" class="goog-inline-block">                         <input id="findterm" type="text"                             class="jfk-textinput goog-inline-block" spellcheck="false" placeholder="term or regular expression ..." tabindex="0"                             style="float: left; z-order: 999; padding: 0 10px; margin-right: 10px; width: 150px; height: 20px;                                 background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);">                     </div>                     '),$("#findterm").keyup(function(e){e.preventDefault(),13==e.which&&$("#extra-button-findreplace").click()}),void $("#extras-container-findreplace-findline").hide().slideDown(500,function(){$("#findterm").focus()});if(0<$("#findreplace_submit:visible").length&&""!==$("#findterm").val()){var e=$("#findterm").val();$("#extras-container-findreplace").remove(),$("#extras-button-bar").after('                     <div id="extras-container-findreplace" class="query-options-container query-option-name"                         style="width: 100%; margin-top: 15px;">                     </div>                     '),$("#extras-container-findreplace-findline").hide(),$("#extras-container-findreplace").append('                     <div id="extras-container-findreplace-findline" class="query-option"></div>'),$("#extras-container-findreplace-findline").append('                     <div class="query-option-name query-option-name-indent-1 goog-inline-block" style="width: 50px">Find : </div>'),$("#extras-container-findreplace-findline").append('                     <div id="find" class="goog-inline-block">                         <input id="findterm" type="text"                             class="jfk-textinput goog-inline-block" spellcheck="false" placeholder="term or regular expression ..." tabindex="0"                             style="float: left; z-order: 999; padding: 0 10px; margin-right: 10px; width: 150px; height: 20px;                                 background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" value="'+e+'">                     </div>                     '),$("#extras-container-findreplace-findline").append('                     <div class="query-option-name query-option-name-indent-1 goog-inline-block" style="width: 70px">Replace : </div>'),$("#extras-container-findreplace-findline").append('                     <div id="findreplacewhole" class="goog-inline-block">                         <input id="findreplacewholepattern" type="text"                             class="jfk-textinput goog-inline-block" spellcheck="false" placeholder="pattern or use below for text" tabindex="0"                             style="float: left; z-order: 999; padding: 0 10px; margin-right: 10px; width: 165px; height: 20px;                                 background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" value="">                     </div>                     '),$("#findterm").keyup(function(e){e.preventDefault(),13==e.which&&$("#extra-button-findreplace").click()}),$("#extras-container-findreplace-findline").hide().slideDown(500)}else""!==$("#findterm").val()&&($("#extras-container-findreplace-findline").append('                         <div class="query-option-name query-option-name-indent-1 goog-inline-block" style="width: 70px">Replace : </div>'),$("#extras-container-findreplace-findline").append('                         <div id="findreplacewhole" class="goog-inline-block">                             <input id="findreplacewholepattern" type="text"                                 class="jfk-textinput goog-inline-block" spellcheck="false" placeholder="pattern or use below for text" tabindex="0"                                 style="float: left; z-order: 999; padding: 0 10px; margin-right: 10px; width: 165px; height: 20px;                                     background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" value="">                         </div>                         '));var t=$("#findterm").val();if(""!=t){var i=F(t);if(i.length<1)$("#extras-container-findreplace").hide(),$("#extras-container-findreplace")[0].innerText="No Terms Found",$("#extras-container-findreplace").css({color:"rgb(153, 0, 0)"}),$("#extras-container-findreplace").slideDown(500).delay(500).slideUp(500);else{i.sort(function(e,t){return t.length-e.length});for(var a=0;a<i.length;a++)$("#extras-container-findreplace").append('                         <div id="extras-findreplace'+a+'" class="query-option"></div>'),$("#extras-findreplace"+a).append('                         <div id="find_'+a+'" class="goog-inline-block">                             <input id="findreplace_'+a+'" type="text"                                 class="jfk-textinput goog-inline-block" spellcheck="false" placeholder="" tabindex="0"                                 style="float: left; z-order: 999; padding: 0 10px; margin-right: 10px; width: 300px; height: 20px;                                     background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" value="'+D(i[a])+'">                         </div>                         '),$("#extras-findreplace"+a).append('                         <div class="query-option-name-indent-0 goog-inline-block" style="position:relative; font-weight: normal;">'+D(i[a])+"</div>");$("#extras-container-findreplace").append('                     <div id="extras-findreplace_action" class="query-option" style="margin:15 0 5 0px;"></div>'),$("#extras-findreplace_action").append('                     <div class="query-option-name query-option-name-indent-1 goog-inline-block">Replace Terms</div>'),$("#extras-findreplace_action").append('                     <div id="findreplace_submit"                         class="jfk-button jfk-button-mini goog-inline-block "                         role="button" tabindex="0" style="-webkit-user-select: none;">                         Ok                     </div>                     '),$("#extras-findreplace_action").append('                     <div id="findreplace_cancel"                         class="jfk-button jfk-button-mini goog-inline-block"                         role="button" tabindex="0" style="-webkit-user-select: none;">                         Cancel                     </div>                     '),$("#findreplace_submit").keyup(function(e){e.preventDefault(),13==e.which&&$("#findreplace_submit").click()}),$("#findreplace_submit").hover(function(){$("#findreplace_submit").toggleClass("jfk-button-hover")}),$("#findreplace_submit").click(function(){$("#extras-container-findreplace").slideUp(500);try{T(".cm-s-default .cm-keyword").textTransform=""}catch(e){}var e=Q();try{T(".cm-s-default .cm-keyword").textTransform="uppercase"}catch(e){}if(""==$("#findreplacewholepattern").val().trim())for(var t=0;t<i.length;t++){var a=$("#findreplace_"+t).val(),n=new RegExp(i[t].replace("[","\\[").replace("]","\\]"),"gi");e=e.replace(n,a)}else{a=$("#findreplacewholepattern").val(),n=new RegExp($("#findterm").val(),"gi");e=e.replace(n,a)}H(e)}),$("#findreplace_cancel").keyup(function(e){e.preventDefault(),13==e.which&&$("#findreplace_cancel").click()}),$("#findreplace_cancel").hover(function(){$("#findreplace_cancel").toggleClass("jfk-button-hover")}),$("#findreplace_cancel").click(function(){$("#extras-container-findreplace").slideUp(500)}),$("#extras-container-findreplace").show(400),$("#findreplace_0").focus().select()}}else $("#extras-container-findreplace").slideUp(500,function(){$("#extras-container-findreplace").remove()})}),$("#extras-button-bar").append('             <div id="extra-button-outline"                 class="jfk-button jfk-button-mini goog-inline-block"                 role="button" tabindex="0" style="-webkit-user-select: none;"                  data-tooltip="Use CTRL+Z to undo" aria-label="Use CTRL+Z to undo"                 data-tooltip-align="r,c" data-tooltip-delay="1000">                 Outline             </div>             '),$("#extra-button-outline").keyup(function(e){e.preventDefault(),13==e.which&&$("#extra-button-outline").click()}),$("#extra-button-outline").hover(function(){$("#extra-button-outline").toggleClass("jfk-button-hover")}),$("#extra-button-outline").click(function(){$("#extras-container-findreplace").slideUp(500,function(){$("#extras-container-findreplace").remove()}),H(X(P()+" pre .cm-keyword"))}),E?$("#extras-button-bar").append('                 <input id="extra-button-separator" type="checkbox"                     data-tooltip="Check to show 1000 separator for numeric fields" aria-label="Check to show 1000 separator for numeric fields"                     data-tooltip-align="r,c" data-tooltip-delay="1000" checked>                     Separator                 </input>                 '):$("#extras-button-bar").append('                 <input id="extra-button-separator" type="checkbox"                     data-tooltip="Check to show 1000 separator for numeric fields" aria-label="Check to show 1000 separator for numeric fields"                     data-tooltip-align="r,c" data-tooltip-delay="1000" >                     Separator                 </input>                 '),$("#extra-button-separator").click(function(){E=!E}),$("#extras-button-bar").slideDown(300)}),decreaseNavButton=$('<div id="decreaseNavButton" class="goog-inline-block jfk-button jfk-button-standard" role="button" style="-webkit-user-select: none; width: 20px; min-width: 5px; padding: 0 0px; height: 20px; line-height: 20px; float: left; margin-right: 3px; margin-left: 4px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 50%; top: 4px;" tabindex="0"> < </div>'),decreaseNavButton.mousedown(function(){N(-1)}),decreaseNavButton.keydown(function(e){107==e.which||39==e.which?($("#increaseNavButton").focus(),N(1)):109!=e.which&&37!=e.which||N(-1)}),decreaseNavButton.hover(function(){decreaseNavButton.toggleClass("jfk-button-hover")}),increaseNavButton=$('<div id="increaseNavButton" class="goog-inline-block jfk-button jfk-button-standard" role="button" style="-webkit-user-select: none; width: 20px; min-width: 5px; padding: 0 0px; height: 20px; line-height: 20px; float: left; margin-right: 1px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 50%; top: 4px" tabindex="0"> > </div>'),increaseNavButton.mousedown(function(){N(1)}),increaseNavButton.keydown(function(e){107==e.which||39==e.which?N(1):109!=e.which&&37!=e.which||($("#decreaseNavButton").focus(),N(-1))}),increaseNavButton.hover(function(){increaseNavButton.toggleClass("jfk-button-hover")}),function(){w&&(w=!1,$(window).resize(function(){k!==window.innerHeight&&" -- "!==$("#manipulateResult").text()&&(k=window.innerHeight,$("#outer-body").height(window.innerHeight-document.getElementById("gb").style.height-60),$("#body").height(window.innerHeight-document.getElementById("gb").style.height-60),document.getElementsByClassName("project-display")[0].style.flex="1 1 "+($("#nav-panel").height()-$(".nav-button-bar").first().height()-10)+"px")}));setInterval(function(){if(0<$(".schema-table-field").length){if(".CodeMirror-code:first"==P()){u&&(u=!1,scriptButton=$('<div id="scriptButton" class="goog-inline-block jfk-button jfk-button-standard jfk-button-collapse-right" role="button" style="-webkit-user-select: none; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" tabindex="0" data-tooltip="Add all table\'s fields to query editor" aria-label="Add all table\'s fields to query editor" data-tooltip-align="t,c" data-tooltip-delay="1000">Add Fields</div>'),scriptButton.off("keyup"),scriptButton.off("hover"),scriptButton.off("click"),scriptButton.keyup(function(e){e.preventDefault(),13==e.which&&$("#scriptButton").click()}),scriptButton.hover(function(){$("#scriptButton").toggleClass("jfk-button-hover")}),scriptButton.click(function(){if(".CodeMirror-code:first"==P()){var e=prompt("Enter Alias if any","");e=e.trim();var t=1,a=$(".schema-table-field"),n="\n";if(""==e)for(var i=0;i<a.length;i++)"RECORD"!=a[i].parentNode.childNodes[3].innerText&&(n+=a[i].innerText,t-=11*a[i].innerText.length,i<a.length-1&&(n+=", "),t<0&&(n+="\n",t=1));else for(i=0;i<a.length;i++)"RECORD"!=a[i].parentNode.childNodes[3].innerText&&(n+=e+"."+a[i].innerText+" AS "+a[i].innerText,t-=11*a[i].innerText.length,i<a.length-1&&(n+=", "),t<0&&(n+="\n",t=1));!function(e){if(111==f){var t=!1;"visible"==$("#content-panel-main").css("visibility")&&(t=!0,$("#content-panel-main").css("visibility","hidden"))}t=!0,".CodeMirror-code:first"==P()&&window.postMessage({type:"get-parameters",payload:e,mode:"bqsql_sel",inFocus:t},"*")}(n)}else alert("Open Query Editor first!")}));var e=$(".content-actions");0===e.find("#scriptButton").size()&&e.prepend(scriptButton)}".CodeMirror-code:first"==P()&&scriptButton.show()}else try{scriptButton.hide()}catch(e){}0<$("div.content-actions:visible").length&&-1<$("div.content-actions")[0].innerText.indexOf("Download")&&(0==$("#manipulateResult:visible").length&&($("#manipulateResult").remove(),manipulateResult=$('<div id="manipulateResult" class="goog-inline-block jfk-button jfk-button-standard" role="button" style="-webkit-user-select: none; width: 15px; min-width: 5px; padding: 0 0px; height: 15px; line-height: 15px; float: left; margin-right: 3px; margin-left: 1px; top: 3px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 50%;" tabindex="0" data-tooltip="Expand / Restore Result Panel" aria-label="Expand / Restore Result Panel" data-tooltip-align="t,c" data-tooltip-delay="1000" > + </div>'),manipulateResult.mousedown(function(){if(" + "==$("#manipulateResult").text()){$("#manipulateResult").text(" -- "),document.getElementById("gb").style.display="none",document.getElementById("header").style.display="none",document.getElementById("nav-panel").style.display="none",document.getElementById("main").style.top="0px",document.getElementById("body").style.top="0px",document.getElementById("content-panel").style.left="0px",document.getElementById("outer-body").style.top="0px";var e=13150;$(0<"#content-panel-query:visible".length)&&(e+=$("#content-panel-query").height()),$("#body").height(e),$("#outer-body").height(e),$("#main").attr("style","overflow:auto"),(t=document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t),$("#manipulateResult").focus(),$("#hideNavButton").text(" -- ")}else if(" -- "==$("#manipulateResult").text()){var t;$("#manipulateResult").text(" + "),document.getElementById("gb").style.display="block",document.getElementById("header").style.display="block",document.getElementById("nav-panel").style.display="block",document.getElementById("main").style.top="0px",document.getElementById("body").style.top="0px",document.getElementById("content-panel").style.left=document.getElementById("nav-panel").style.width,document.getElementById("outer-body").style.top=document.getElementById("gb").style.height,$("#outer-body").height(window.innerHeight-document.getElementById("gb").style.height-60),$("#body").height(window.innerHeight-document.getElementById("gb").style.height-60),$("#main").attr("style","overflow:hidden"),(t=document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t),$("#manipulateResult").focus(),$("#hideNavButton").text(" < "),document.getElementsByClassName("project-display")[0].style.flex="1 1 "+($("#nav-panel").height()-$(".nav-button-bar").first().height()-10)+"px"}}),manipulateResult.hover(function(){manipulateResult.toggleClass("jfk-button-hover")}),0<$("#content-panel-main .content-header:visible").length?$("#content-panel-main .content-header .results-toggle").after(manipulateResult):0<$("div.explain-toggle:visible").length&&$("div.explain-toggle").after(manipulateResult)),function(){var e=$(".content-actions");if(0===e.size()||0===e.children().size())return;var t=!0;try{t="visible"==$("textarea.records-json").css("visibility")}catch(e){t=!1}t=!0,0===e.find("#pivotDiv").size()&&t&&(e.prepend(d),"visible"==$("iframe#pivot").css("visibility")?d.hide():d.show());0<e.find("#pivotDiv").size()&&!t&&d.hide();0<e.find("#pivotDiv").size()&&t&&"visible"!=$("iframe#pivot").css("visibility")&&d.show();0<e.find("#pivotDiv").size()&&0===e.find("#hideChartButton").size()&&(e.prepend(l),"visible"==$("iframe#pivot").css("visibility")?l.show():l.hide())}())," < "==$("#hideNavButton").text()?parseInt(document.getElementById("nav-panel").style.width)<200&&$("#hideNavButton").text(" > "):" > "==$("#hideNavButton").text()&&200<parseInt(document.getElementById("nav-panel").style.width)&&$("#hideNavButton").text(" < "),(0<$("span.content-title:visible").length&&"Query Results "==$("span.content-title")[0].innerText||0<$("div.explain-toggle:visible").length&&0<$("div.content-actions:visible").length)&&(0==$("#pivot:visible").length||c.show());var t=$("#query-button-bar");if(0<t.size())if(document.title=$("#query-name")[0].innerText,0===t.find("#BqMateButton").size()){try{$("div.plain-text").innerText.includes("From Creator of BigQuery Mate")&&function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}("bqmWelcome","disabled",5)}catch(e){}w=0,BqMateButton.insertAfter(t.find(".jfk-button").last()),function(){var e=new MutationObserver(function(e){e.forEach(function(e){try{if("Query Editor"==e.removedNodes[0].innerText.trim()){var t=$("#BqMateButton");try{t[0].innerText="BQ Mate"}catch(e){}try{$("#scriptButton").fadeOut(500)}catch(e){}}}catch(e){}})}),t=document.getElementsByClassName("content-header")[0],a=$("#BqMateButton");try{a[0].innerText="BQ Mate"}catch(e){}a.fadeIn(600),e.observe(t,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}(),function(){v=new MutationObserver(function(e){e.forEach(function(e){document.title=$("#query-name")[0].innerText})});var e=document.getElementById("query-name");v.disconnect(),observe2=null;try{v.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}catch(e){}}(),function(){observer3=new MutationObserver(function(e){e.forEach(function(e){"aria-checked"==e.attributeName&&function(e,t){s=t}(0,$("#use-legacy-sql").children().eq(0).attr("aria-checked"))})});var e=document.getElementById("query-expandable-container");observer3.disconnect(),observe3=null,observer3.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}(),S(),U()}else Y()&&$("#BqMateButton").fadeIn();try{if("Valid:"==$(".query-validate-status-label")[0].innerText){$(".query-validate-status-text").css("color","green");var a=$(".query-validate-status-text")[0].innerText.replace(/This query will process /,"").replace(/ when run./,"").split(" "),n=5*parseFloat(a[0]);if(0<n)switch(a[1]){case"TB":n/=1;break;case"GB":n/=1024;break;case"MB":(n=n/1024/1024)<48e-6&&(n=48e-6);break;case"KB":case"B":n=48e-6;break;default:n=0}else n=0;var i=0;try{i=n.toString().match(/^0[.]0+/).toString().length-1}catch(e){}(0==n||i<2)&&(i=2),0<$("#gbqcost").length?($("#gbqcost").show(),$("#gbqcost")[0].innerHTML="     Estimated cost is $<b>"+n.toFixed(i)+"</b>"):$(".query-validate-status-text").after('<span id="gbqcost" style="padding-left: 20px">     Estimated cost is $<b>'+n.toFixed(i)+"</b></span>")}else $("#gbqcost").hide(),$(".query-validate-status-text").css("color","red")}catch(e){}if(E){var r=$(".records-table");if(0<r.size()){var o=1234;o=o.toLocaleString().replace(/1|2|3|4/g,""),r.find("tr.records-row td.records-cell-number").each(function(e,t){var a=t.innerHTML;"null"!=a&&""!=a&&a.indexOf(o)<0&&a.indexOf(" ")<0&&(t.innerHTML=parseFloat(a).toLocaleString())})}}},500),setInterval(function(){0<$(".nav-button-bar").size()&&(0===$(".project-display").find("#ds-filter").size()&&function(){var e=!1;try{""!==$("#ds-filter")[0].value.trim()&&(e=!0)}catch(e){}e||($("#ds-filter").remove(),$(".tables-header").after("             <input id='ds-filter' type='text'                 class='jfk-textinput' spellcheck='false' placeholder='type filter here…. (regexp is ok)'                 style='padding: 0 10px; margin-bottom:3px;margin-right: 10px; margin-left:20px;width: 200; height: 20;                     background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);'>             "),$("#ds-filter").css({width:"200",height:"20"}),$("#ds-filter").keyup(function(e){j(e)}),$("#ds-filter").off("keydown"),$("#ds-filter").off("keypress"),$("#ds-filter").val(q))}(),0<$(".table-list-table").size()&&0===$(".table-list-table").parent().find("#tb-filter").size()&&(function(){var e=!1;try{""!==$("#tb-filter")[0].value.trim()&&(e=!0)}catch(e){}if(!e){$("#tb-filter").remove(),$(".table-list-table").before("             <input id='tb-filter' type='text'                 class='jfk-textinput' spellcheck='false' placeholder='type filter here…. (regexp is ok)'                 style='padding: 0 10px; margin-bottom:3px;margin-right: 10px; margin-left:20px;width: 200; height: 20;                     background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);'>             "),$("#tb-filter").css({width:"200",height:"20"}),$("#tb-filter").keyup(function(e){M(e)}),$("#tb-filter").off("keydown"),$("#tb-filter").off("keypress");var t=$(".content-title")[0].innerText.toLowerCase();t==B?$("#tb-filter").val(C):($("#tb-filter").val(),B=t)}}(),M()))},500),setInterval(function(){0==$("#dscount").length&&($(".project-name").append('<div id=dscount style="float: right;">123</div>'),$("#dscount").css({"margin-right":"30px"}));var e=$("div.project-container.display-projects div").children().first().find("div.tables-dataset-row").length,t=$("div.project-container.display-projects div").children().first().find("div.tables-dataset-row:visible").length;$("#dscount").text("( "+t+" / "+e+" )");var a=$(".project-name").text().substring(0,$(".project-name").text().length-$("#dscount").text().length);a!==_&&(_=a,j())},500)}(),(y=document.createElement("script")).id="cmmate",y.type="text/javascript",y.appendChild(document.createTextNode("(function() {  var bqdoc = null;  var jsdoc = null;  var start = {'line': 0, 'ch': 0};  var end  = {'line': 0, 'ch': Infinity};  window.CodeMirror.defineInitHook(function(cm) {  if(cm.display.wrapper.parentNode.parentNode.parentNode.parentNode.parentNode.className.indexOf('editor-container') == -1 || cm.display.wrapper.parentNode.className.indexOf('query-editor-codemirror-container') == -1){return;};     cm.on('focus', function(doc){       window.postMessage({        type: 'change-mode',        mode: doc.options.mode      }, '*');   });      function resetSelection(mode, first, second) {       start = {'line': 0, 'ch': 0};       end  = {'line': 0, 'ch': Infinity};       var anchor = cm.getCursor('anchor');       var head = cm.getCursor('head');       if (anchor.line < head.line) {start = anchor; end = head;}       else if (anchor.line > head.line) {start = head; end = anchor;}       else if (anchor.line = head.line) {            if (anchor.ch < head.ch) {start = anchor; end = head;}           else {start = head; end = anchor;}       };       if(start.line < end.line && end.ch == 0) {end.line -= 1};       start.ch = 0; end.ch = Infinity ;         if (mode == -1) {end.line = first; start.line = 0; }       else if (mode == 1) {start.line = first; end.line = Infinity;}       else if (mode == 2) {start.line = first; end.line = second;};       cm.setSelection(start, end);   };     function CommentSelection() {       spaces = '--' + cm.getSelection('\\n--');       cm.replaceSelection(spaces);   };     function unCommentSelection() {       var replacement = '\\n' + cm.getSelection('\\n');       var regex  = new RegExp('(\\n[ ]*)--', 'gm');       replacement = replacement.replace(regex, '$1');       replacement = replacement.replace(/\\n/, '');       cm.replaceSelection(replacement);   };    cm.setOption('viewportMargin', Infinity);  cm.setOption('extraKeys', {    'Ctrl-Enter': function(cm) {      window.postMessage({        type: 'exec-ctrl-enter'      }, '*');},     'Cmd-Enter': function(cm) {      window.postMessage({        type: 'exec-ctrl-enter'      }, '*');},     'F5': function(cm) {      window.postMessage({        type: 'exec-ctrl-enter'      }, '*');},     'Ctrl-F5': function(cm) {      window.postMessage({        type: 'exec-ctrl-e'      }, '*');},       'Cmd-F5': function(cm) {      window.postMessage({        type: 'exec-ctrl-e'      }, '*');},       'Ctrl-E': function(cm) {      window.postMessage({        type: 'exec-ctrl-e'      }, '*');},     'Cmd-E': function(cm) {      window.postMessage({        type: 'exec-ctrl-e'      }, '*');},     'F1': function(cm) {      payload = cm.getSelection();      if (payload == '') {payload = cm.getRange(cm.findWordAt(cm.getCursor()).anchor, cm.findWordAt(cm.getCursor()).head)};        window.postMessage({           type: 'set-help',           payload: payload      }, '*');},     'Ctrl-Alt-/': function(cm) {       start = {'line': 0, 'ch': 0};       end  = {'line': 0, 'ch': Infinity};       resetSelection(0);       var anchor = cm.getCursor('anchor'); var start = anchor.line;       var head = cm.getCursor('head'); var end = head.line;       if (start > 0) {           resetSelection(-1, start-1);           CommentSelection();       };       resetSelection(1, end + 1);       CommentSelection();       resetSelection(2, start, end);},     'Shift-Ctrl-Alt-/': function(cm) {       start = {'line': 0, 'ch': 0};       end  = {'line': 0, 'ch': Infinity};       resetSelection(0);       var anchor = cm.getCursor('anchor'); var start = anchor.line;       var head = cm.getCursor('head'); var end = head.line;       if (start > 0) {           resetSelection(-1, start-1);           unCommentSelection();       };       resetSelection(1, end + 1);       unCommentSelection();       resetSelection(2, start, end);} });      if (cm.options.mode === 'bqsql' || cm.options.mode === 'standardsql') { bqdoc = cm.doc;};    if (cm.options.mode === 'javascript') { jsdoc = cm.doc; }       window.addEventListener('message', function(event) {         if (event.data.type === 'get-parameters') {       if (event.data.mode === 'bqsql') { bqdoc = cm.doc; bqdoc.setValue(event.data.payload);};       if (event.data.mode === 'javascript') { jsdoc = cm.doc; jsdoc.setValue(event.data.payload); }           try {c = cm.display.wrapper.parentNode.parentNode.parentNode.parentNode.parentNode.className.indexOf('history'); } catch(e) {c = 1; };       if (event.data.mode === 'bqsql_sel' && (cm.options.mode === 'bqsql' || cm.options.mode === 'standardsql') && c == -1) { bqdoc = cm.doc; bqdoc.replaceSelection(event.data.payload, 'around');};           window.postMessage({           type: 'set-parameters',           inFocus: event.data.inFocus         }, '*');       }     });  });  })();")),document.body.appendChild(y),window.addEventListener("message",function(e){if(e.data.type&&"set-parameters"===e.data.type)111==f&&e.data.inFocus&&$("#content-panel-main").css("visibility","visible");else if(e.data.type&&"set-help"===e.data.type)e.data.payload&&(target=V(e.data.payload.toLowerCase()),""!=target&&window.open(target,"quick help"));else if(e.data.type&&"change-mode"===e.data.type){var t=$("#BqMateButton");if("bqsql"==e.data.mode||"standardsql"==e.data.mode){if((i=$("#use-legacy-sql").children().eq(0)).attr("aria-checked")!==g())try{R(),L(),R(),O()}catch(e){}S(),U();try{t[0].innerText="BQ Mate"}catch(e){}Y()&&$("#BqMateButton").fadeIn(),T(".cm-s-default .cm-keyword").textTransform="uppercase"}else{$("#BqMateButton").fadeOut(400,function(){try{t[0].innerText="BQ Mate"}catch(e){}}),$("#extras-button-bar").slideUp(),$("#extras-container-parameters").slideUp(),$("#extras-container-tables").slideUp(),$("#extras-container-findreplace").slideUp(),T(".cm-s-default .cm-keyword").textTransform="none",$("#scriptButton").fadeOut(500)}}else if(e.data.type&&"preserve-format"===e.data.type){H(Q())}else if(e.data.type&&"exec-ctrl-enter"===e.data.type){if(".CodeMirror-code:first"==P())try{var a=(i=$("#query-button-bar").children().first().children().first()).offset(),n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n);n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n)}catch(e){a=(i=$("#query-button-bar").children().first()).offset(),n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n);n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n)}}else if(e.data.type&&"exec-ctrl-e"===e.data.type&&".CodeMirror-code:first"==P()){a=(i=$("#query-button-bar").children().eq(0).children().eq(1).children().eq(1)).offset(),n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n);n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n),(i=$("#query-button-bar").children().eq(0).children().eq(1).children().eq(0).children().eq(0).children().eq(0)).focus();a=i.offset(),n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n);n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n);var i;a=(i=$("#query-button-bar").children().eq(0).children().eq(1).children().eq(0).children().eq(0).children().eq(0).children().eq(0).children().eq(0)).offset(),n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n);n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});i[0].dispatchEvent(n)}}),c=$('<div id="chartButton" class="goog-inline-block jfk-button jfk-button-standard jfk-button-collapse-right" role="button" style="-webkit-user-select: none; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" tabindex="0" data-tooltip="Build Pivot with Data available on current Page. To cover more data - expand Result Panel with + Button" aria-label="Build Pivot with Data available on current Page. To cover more data - expand Result Panel with + Button" data-tooltip-align="t,c" data-tooltip-delay="1000">Show Pivot</div>'),l=$('<div id="hideChartButton" class="goog-inline-block jfk-button jfk-button-standard jfk-button-collapse-right" role="button" style="-webkit-user-select: none; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1);" tabindex="0">Hide Pivot</div>'),(d=$('<span id="pivotDiv"></span>')).append(c),x=[c,l],$.each(x,function(e,t){t.hover(function(){t.toggleClass("jfk-button-hover")})}),c.click(function(){!function(){try{var e=(n=$("#records-view-container").children().first().children().eq(2).children().eq(0).children().eq(1).children().eq(0).children().eq(1).children().eq(0)).offset(),t=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:e.left,screenY:e.top});n[0].dispatchEvent(t);t=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:e.left,screenY:e.top});n[0].dispatchEvent(t)}catch(e){}try{var a=$("textarea.records-json")[0].value}catch(e){}if(!a){try{e=(n=$("#records-view-container").children().first().children().eq(2).children().eq(0).children().eq(2).children().eq(0).children().eq(1).children().eq(0)).offset(),t=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:e.left,screenY:e.top});n[0].dispatchEvent(t);t=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:e.left,screenY:e.top});n[0].dispatchEvent(t)}catch(e){}try{a=$("textarea.records-json")[0].value}catch(e){}}try{var n=$("#records-view-container").children().first().children().eq(2).children().eq(0).children().eq(2).children().eq(0).children().eq(0).children().eq(0);e=n.offset();t=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:e.left,screenY:e.top});n[0].dispatchEvent(t),t=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:e.left,screenY:e.top}),n[0].dispatchEvent(t)}catch(e){}!function(e){e=JSON.stringify(e),e=encodeURIComponent(e);var t=chrome.extension.getURL("chart.html?data="+e),a=$('<iframe id="pivot"></iframe>');a.attr("src",t),a.css("width","100%"),a.css("height","420px"),$("#content-panel-main .content-header").prepend(a),d.hide(),l.show();function n(e){delta=$("#content-panel-query").height()||0,-1==e&&150<$("#pivot").height()?$("#pivot").height($("#pivot").height()+50*e):1==e&&$("#pivot").height()<window.innerHeight-200-delta&&$("#pivot").height($("#pivot").height()+50*e)}a.after('<p style="float: left; position:absolute; top:10px; left: 0px">             <button type="button" id="pivotUp" style="position:absolute;left:18px;top:83px;outline-color:white;-webkit-user-select: none; width: 14px; min-width: 5px; padding: 0 0px; height: 14px; line-height: 12px; float: left; margin-right: 3px; margin-left: 1px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 10%;z-index:999">+</>             <button type="button" id="pivotDown" style="position:absolute;left:18px;top:63px;outline-color:white;-webkit-user-select: none; width: 14px; min-width: 5px; padding: 0 0px; height: 14px; line-height: 12px; float: left; margin-right: 3px; margin-left: 1px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 10%;z-index:999">-</>         </p>'),$("#pivotUp").text("+"),$("#pivotDown").text("-"),$("#pivotUp").click(function(){n(1)}),$("#pivotDown").click(function(){n(-1)})}(a)}()}),l.click(function(){$("#pivot").remove(),d.show(),l.hide(),$("#pivotUp").hide(),$("#pivotDown").hide()}),l.hide(),setInterval(function(){if($("#use-legacy-sql").children().eq(0).attr("aria-checked")!==g())try{R(),L(),R(),O()}catch(e){}$(".querybuilder-title").length&&!$(".querybuilder-title-fullScreen").length&&($(".querybuilder-title").append('<img id=fullscreen class="goog-inline-block jfk-button jfk-button-standard querybuilder-title-fullScreen" role="button" style="-webkit-user-select: none; width: 22px; min-width: 5px; padding: 0 0px; height: 17px; line-height: 15px; margin-right: 3px; margin-left: 3px; top: 2px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 20%; font-size: x-small" src="'+chrome.extension.getURL("full-screen.png")+'" data-tooltip="Open Editor in Full Screen. ESC or F11 to exit" aria-label="Open Editor in Full Screen. ESC or F11 to exit" data-tooltip-align="t,c" data-tooltip-delay="100"></img>'),$(".querybuilder-title-fullScreen").css("display","inline"),$(".querybuilder-title-fullScreen").css("float","right"),$(".querybuilder-title-fullScreen").click(function(){!function(){if(".CodeMirror-code:first"==P())var e=document.getElementsByClassName("CodeMirror")[0];else if(".CodeMirror-code:last"==P())e=document.getElementsByClassName("CodeMirror")[1];var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){var a=new ActiveXObject("WScript.Shell");null!==a&&a.SendKeys("{F11}")}}()}))},200),setInterval(function(){0<$(".help-links-bubble").length&&$(".help-links-bubble p")[0].innerText.includes("Some helpful links:")&&($(".help-links-bubble")[0].innerText.includes("From Creator of BQ Mate")||($(".help-links-bubble")[0].innerHTML+=' <br>    <p>From Creator of BQ Mate</p> <ul>   <li><a href="http://stackoverflow.com/questions/tagged/google-bigquery" target="_newtab">Ask on Stack Overflow</a></li>       <li><a href="http://status.cloud.google.com/" target="_newtab">Google Cloud Status</a></li>       <li><a href="http://bigquery.cloud.google.com/" target="_newtab">Open New Tab</a></li>       <li>Check out <b>Potens.io</b></li>   <a href="https://users.potens.io/signup" target="_newtab">Sign Up for Free Trial</a>       <a href="https://console.cloud.google.com/launcher/details/potens-io/potensio" target="_newtab">Potens&nbspon&nbspCloud&nbspLauncher</a>       <a href="https://potensio.zendesk.com/" target="_newtab">Support,&nbsp;Tutorials,&nbsp;Videos</a>     </ul>       ')),0<$(".content-title").length&&$(".content-title")[0].innerText.includes("Welcome to BigQuery!")&&($(".plain-text")[0].innerText.includes("From Creator of BigQuery Mate")||($(".plain-text")[0].innerHTML+=' <br><hr><br>    <p class="content-title"><b>From Creator of BigQuery Mate</b></p> <p><i>Dear User, Thank you for using BigQuery Mate, the tool I created back in October 2015. The main purpose was to add some extra functionality (25 items as of today) to existing Native UI to boost productivity. Since then, there are more than 7000 users enjoying BQ Mate on daily basis. For those of you who are looking for even more features and IDE style of UI - <b>I strongly recommend to check out Potens.io</b> – suite of powerful efficiency-focused self-service data tools around Google BigQuery</i></p> <center>    <br><img id=viantlogo src="'+chrome.extension.getURL("potens.png")+'" width="30%" height="30%"></img><br><br>  <center>Two powerful efficiency-focused self-service data tools<br> The Magnus workflow automator and Goliath data explorer are tools designed for non-engineers to help businesses make the most of their existing data and confidently make informed strategy decisions.</center><br>      \t\t\t\t<p><b>Magnus</b> - Workflow Automator</p> \t\t\t\t<p>Expand Google BigQuery with a unique capability to orchestrate and schedule multiple queries, scripts, APIs, and exports in one systematic process called workflow.</p> \t\t\t\t<p><b>Goliath</b> - Data Explorer</p>  \t\t\t\t<p>Easily manage and query your existing Google BigQuery data, giving full transparency into all your data assets in seconds.</p>   <h3>Try for free now - <a href="https://users.potens.io/signup" target="_newtab">Sign Up for Free Trial</a></h3>    <br><p>Check Potens.io on   <a href="https://console.cloud.google.com/launcher/details/potens-io/potensio" target="_newtab">Cloud Launcher</a> and       <a href="https://potensio.zendesk.com/" target="_newtab">Support,&nbsp;Tutorials,&nbsp;Videos</a> for more info about Potens.io </p>     <center><br>         <iframe src="https://www.youtube.com/embed/txDaXLJqTH8" width="298" height="210" frameborder="0" allowfullscreen=""></iframe>   <iframe src="//www.youtube.com/embed/BKa-quMI0aw" width="298" height="210" frameborder="0" allowfullscreen=""></iframe>   <br>    <br><p>You can see more Potens.io videos <a href="https://potensio.zendesk.com/" target="_newtab">here</a></p>     <br> Affiliation disclosure: I am author and am currently leading team behind Potens.io'))},200)}function T(e){for(var t=0;t<document.styleSheets.length;t++){var a,n=document.styleSheets[t];for(a=0;a<n.cssRules.length;a++)if(n.cssRules[a].selectorText===e)return n.cssRules[a].style}return null}function D(e){return $("<div/>").text(e).html()}function N(e){var t=parseInt($("#content-panel").css("left").replace("px",""));if($.isNumeric(t)||(t=300),-1==e){if(t<235)return;var a=t-5}else{if(1!=e)return void(0==e?(p=document.getElementById("nav-panel").style.width,document.getElementById("nav-panel").style.width="0px",document.getElementById("main").style.top="0px",document.getElementById("body").style.top="0px",document.getElementById("content-panel").style.left="0px"):2==e&&(document.getElementById("nav-panel").style.width=p,document.getElementById("nav-panel").style.display="block",document.getElementById("content-panel").style.left=document.getElementById("nav-panel").style.width,document.getElementsByClassName("project-display")[0].style.flex="1 1 1000px",document.getElementsByClassName("project-display")[0].style.flex="1 1 "+($("#nav-panel").height()-$(".nav-button-bar").first().height()-10)+"px"));if(t<190)return;a=t+5}var n=a-15,i=a-115;$("#content-panel").css("left",a.toString()+"px"),$("#nav-panel").css("width",n.toString()+"px"),$(".tables-dataset-id").css("width",i.toString()+"px"),$("#navcontrol").remove();var r=document.createElement("style");r.id="navcontrol",r.type="text/css";var o=".tables-table-id-text { width: "+a.toString()+"px }";o+=" .tables-table-id { width: "+i.toString()+"px }",r.appendChild(document.createTextNode(o)),document.getElementsByTagName("head")[0].appendChild(r)}function S(){$("#hideNavButton").remove(),hideNavButton=$('<div id="hideNavButton" class="goog-inline-block jfk-button jfk-button-standard" role="button" style="-webkit-user-select: none; width: 15px; min-width: 5px; padding: 0 0px; height: 15px; line-height: 15px; float: left; margin-right: 3px; margin-left: 0px; top: 3px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 50%;" tabindex="0"  data-tooltip="Hide / Show Navigation Panel" aria-label="Hide / Show Navigation Panel" data-tooltip-align="t,c" data-tooltip-delay="1000" > < </div>'),hideNavButton.mousedown(function(){" < "==$("#hideNavButton").text()?($("#hideNavButton").text(" > "),N(0)):" > "==$("#hideNavButton").text()?($("#hideNavButton").text(" < "),N(2)):" -- "==$("#hideNavButton").text()&&$("#manipulateResult").mousedown()}),hideNavButton.hover(function(){hideNavButton.toggleClass("jfk-button-hover")}),$("#query-name").before(hideNavButton)," -- "==$("#manipulateResult").text()?$("#hideNavButton").text(" -- "):$("#nav-panel:visible").length<1&&$("#hideNavButton").text(" > ")}function I(){var e=$("#query-button-bar").children().eq(4),t=e.offset(),a=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:t.left,screenY:t.top});e[0].dispatchEvent(a);a=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:t.left,screenY:t.top});e[0].dispatchEvent(a)}function R(){var e=$("#query-button-bar").children().length,t=$("#query-button-bar").children().eq(e-1),a=t.offset(),n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});t[0].dispatchEvent(n);n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,screenX:a.left,screenY:a.top});t[0].dispatchEvent(n)}function L(){var e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});$("#query-expandable-container bq-query-options div label").eq(8)[0].dispatchEvent(e)}function O(){$("div.CodeMirror textarea")[0].focus()}function U(){$("#VersionButton").remove(),VersionButton=$('<div id="VersionButton" class="goog-inline-block jfk-button jfk-button-standard" role="button" style="-webkit-user-select: none; width: 25px; min-width: 5px; padding: 0 0px; height: 15px; line-height: 15px; margin-right: 3px; margin-left: 0px; top: 0px; background-image: -webkit-linear-gradient(top,#D1E8C0,#f1f1f1); border-radius: 20%; font-size: xx-small" tabindex="0"  data-tooltip="Click - Switch SQL Version; Double Click - Save current version as default" aria-label="Click - Switch SQL Version; Double Click - Save current version as default" data-tooltip-align="t,c" data-tooltip-delay="100" > SQL </div>'),VersionButton.click(function(){1===++e?t=setTimeout(function(){R(),L(),R(),e=0},400):(clearTimeout(t),e=0)}),VersionButton.dblclick(function(){m("bqmSqlVersion",$("#use-legacy-sql").children().eq(0).attr("aria-checked"))}),VersionButton.hover(function(){VersionButton.toggleClass("jfk-button-hover")}),$("#query-name").before(VersionButton)}function z(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});$("#records-nav span").eq(e)[0].dispatchEvent(t)}function F(e){var t=Q(),a=RegExp(e,"gi"),n=t.match(a),i=new Array;if(n)for(var r=0;r<n.length;r++)i.indexOf(n[r])<0&&i.push(n[r]);return i}function Q(e){if(!e)e=P()+" pre";for(var t=$(e),a="",n=0;n<t.length;n++){var i=$(t[n]);0<n&&(a+="\n"),8203!=i[0].innerText.charCodeAt(0)&&(a+=i[0].innerText)}return a}function X(){for(var e=P()+" pre span",t=$(e),a="",n=0,i=0;i<t.length;i++){var r=$(t[i]);if('<span class=" CodeMirror-matchingbracket">(</span>'!==r[0].outerHTML.trim()&&'<span class=" CodeMirror-matchingbracket">)</span>'!==r[0].outerHTML.trim()&&(-1<r[0].innerHTML.indexOf("<span ")||-1<r[0].innerHTML.indexOf("(")||-1<r[0].innerHTML.indexOf(")"))){var o=$("<span>check</span> "+r[0].innerHTML).filter("span.cm-keyword, span.cm-recognized-table, span.cm-function, span.cm-comment"),s="";newLine="";var c="(\\(|\\)";if(0<o.length||-1<r[0].innerText.indexOf("(")||-1<r[0].innerText.indexOf(")")){for(var l=0;l<o.length;l++){var d=$(o[l])[0].innerText;(A(d)||d.match(/\./))&&(0==d.indexOf("//")||0==d.indexOf("--")?c+="|"+d:0==d.indexOf("[")||0==d.indexOf("`")?c+="|"+d:c+="|(\\b)+"+d)}if(c=(c+=")*").replace(/\[/g,"\\[").replace(/\]/g,"\\]"),rgPattern=new RegExp(c,"gi"),newMatches=r[0].innerText.match(rgPattern),0<newMatches.length)for(var p=0;p<newMatches.length;p++)newLine+=newMatches[p]+" ";for(var u=newLine.indexOf(newLine.trim())-1;-1<newLine.indexOf("  ")||-1<newLine.indexOf("( )");)newLine=newLine.replace(/  /g," ").replace("( )"," ").replace("()"," ");""!==(s+=newLine).trim()&&(0<n&&(a+="\n"),0<u&&(a+=" ".repeat(u)),n++,a+=s)}}}return a}function A(e){return"as"!=e.toLowerCase()}function P(){return 0<$(".CodeMirror-code:first:visible").length?".CodeMirror-code:first":0<$(".CodeMirror-code:last:visible").length?".CodeMirror-code:last":"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}function H(e){if(111==f){var t=!1;"visible"==$("#content-panel-main").css("visibility")&&(t=!0,$("#content-panel-main").css("visibility","hidden"))}t=!0;var a=P();".CodeMirror-code:first"==a?window.postMessage({type:"get-parameters",payload:e,mode:"bqsql",inFocus:t},"*"):".CodeMirror-code:last"==a&&window.postMessage({type:"get-parameters",payload:e,mode:"javascript",inFocus:t},"*")}function Y(){var e=$("#query-button-bar"),n=0;return e.children().each(function(e,t){var a=t.innerText;(-1<a.indexOf("Save Query")||-1<a.indexOf("Save View")||-1<a.indexOf("Format Query"))&&n++}),2<n}function V(e){var t="";if(0==$("#use-legacy-sql.ng-empty").length){switch(e){case"select":case"within":case"from":case"flatten":case"where":case"omit":case"each":case"having":case"limit":case"bit_and":case"bit_or":case"bit_xor":case"exact_count_distinct":case"group_concat":case"group_concat_unquoted":case"nest":case"quantiles":case"stddev_pop":case"stddev_samp":case"unique":case"coalesce":case"current_date":case"current_time":case"current_timestamp":case"date":case"date_add":case"datediff":case"day":case"dayofweek":case"dayofyear":case"format_utc_usec":case"hour":case"minute":case"month":case"msec_to_timestamp":case"now":case"parse_utc_usec":case"quarter":case"sec_to_timestamp":case"second":case"strftime_utc_usec":case"time":case"timestamp":case"timestamp_to_msec":case"timestamp_to_sec":case"timestamp_to_usec":case"usec_to_timestamp":case"utc_usec_to_day":case"utc_usec_to_hour":case"utc_usec_to_month":case"utc_usec_to_week":case"utc_usec_to_year":case"week":case"year":case"exp":case"concat":case"contains":case"instr":case"left":case"length":case"lower":case"lpad":case"ltrim":case"replace":case"right":case"rpad":case"rtrim":case"split":case"substr":case"upper":case"cume_dist":case"dense_rank":case"first_value":case"lag":case"last_value":case"lead":case"ntile":case"percent_rank":case"percentile_cont":case"percentile_disc":case"rank":case"current_user":case"sha1":case"":t=e;break;case"join":case"inner join":case"outer join":case"full outer join":case"right outer join":case"left outer join":case"full join":case"right join":case"left join":case"cross join":t="joins";break;case"omit ?????? if":case"omit record if":t="omit";break;case"group by":case"group each by":case"group":t="groupby";break;case"rollup":t="groupbyrollup";break;case"not in (select":case"in (select":t="semi-joins";break;case"order by":case"order":t="orderby";break;case"":t="aggfunctions";break;case"avg":t="bit_and";break;case"corr":t="bit_xor";break;case"count":case"covar_pop":case"covar_samp":t="countdistinct";break;case"first":t="exact_count_distinct";break;case"last":case"max":case"min":t="group_concat_unquoted";break;case"nth":t="nest";break;case"stddev":t="stddev_pop";break;case"sum":case"top":t="stddev_samp";break;case"variance":case"var_pop":case"var_samp":t="unique";break;case"bit_count":t="arithmeticoperators";break;case"|":case"^":case"<<":case">>":case"~":t="bitwisefunctions";break;case"boolean":case"cast":case"float":case"hex_string":case"integer":case"string":t="castingfunctions";break;case"greatest":case"ifnull":case"is_inf":case"is_nan":case"is_explicitly_defined":case"least":case"nvl":t="coalesce";break;case"format_packed_ip":case"format_ip":case"parse_ip":t="ipfunctions";break;case"parse_packed_ip":t="parse-packed-ip";break;case"json_extract":case"json_extract_scalar":t="jsonfunctions";break;case"and":case"or":case"not":t="logicfunction";break;case"abs":case"acos":case"acosh":case"asin":case"asinh":case"atan":case"atanh":case"atan2":case"ceil":case"cos":case"cosh":case"degrees":t="mathfunctions";break;case"floor":case"ln":case"log":case"log2":case"log10":case"pi":case"pow":case"radians":case"rand":case"round":case"sin":case"sinh":case"sqrt":case"tan":case"tanh":t="exp";break;case"regexp_match":case"regexp_extract":case"regexp_replace":t="regularexpressionfunctions";break;case"ignore":case"ignore case":t="stringfunctions";break;case"table_date_range":case"table_date_range_strict":case"table_query":t="tablewildcardfunctions";break;case"host":case"domain":case"tld":t="urlfunctions";break;case"partinion":case"partition by":case"over":t="windowfunctions";break;case"nth_value":t="nthvalue";break;case"ratio_to_report":case"row_number":t="rank";break;case"case":case"case when":case"every":case"hash":case"if":case"position":case"some":t="otherfunctions";break;case"from_base64":t="from-base64";break;case"to_base64":t="to-base64";break;default:t=""}if(""!=t)return"https://cloud.google.com/bigquery/query-reference#"+t}else{switch(e){case"select":t="select";break;case"select distinct":t="select-distinct";break;case"except":t="select-except";break;case"from":t="from-clause";break;case"join":case"inner join":t="inner-join";break;case"cross join":t="cross-join";break;case"full outer join":case"full join":t="full-outer-join";break;case"left outer join":case"left join":t="left-outer-join";break;case"right outer join":case"right join":t="right-outer-join";break;case"on":t="on-clause";break;case"using":t="using-clause";break;case"where":t="where-clause";break;case"group":case"group by":t="group-by-clause";break;case"having":t="having-clause";break;case"order":case"order by":t="order-by-clause";break;case"union":t="union";break;case"limit":case"offset":t="limit-clause-and-offset-clause";break;case"with":t="with-clause";break;case"unnest":t="unnest";break;default:t=""}if(""!=t)return"https://cloud.google.com/bigquery/sql-reference/query-syntax#"+t;switch(e){case"cast":t="casting";break;case"safe_cast":t="safe-casting";break;case"string":case"timestamp":case"date":case"unix_date":case"date_from_unix_date":case"unix_seconds":case"unix_millis":case"unix_micros":case"timestamp_seconds":case"timestamp_millis":case"timestamp_micros":t="additional-date-and-timestamp-conversion-functions";break;case"any_value":t="any_value";break;case"approx_count_distinct":t="approx_count_distinct";break;case"approx_quantiles":t="approx_quantiles";break;case"approx_top_count":t="approx_top_count";break;case"array_agg":t="array_agg";break;case"array_concat_agg":t="array_concat_agg";break;case"avg":t="avg";break;case"bit_and":t="bit_and";break;case"bit_or":t="bit_or";break;case"bit_xor":t="bit_xor";break;case"count":t="countexpression";break;case"countif":t="countif";break;case"logical_and":t="logical_and";break;case"logical_or":t="logical_or";break;case"max":t="max";break;case"min":t="min";break;case"string_agg":t="string_agg";break;case"sum":t="sum";break;case"distinct":t="using-distinct-with-aggregate-functions";break;case"over":t="over-clause";break;case"partition by":case"partition":t="partition-by-clause";break;case"order by":case"order":t="order-by-clause";break;case"rows":t="rows";break;case"range":t="range";break;case"window ":t="window-clause";break;case"rank":case"dense_rank":case"percent_rank":case"cume_dist":case"ntile":case"row_number":t="numbering-functions";break;case"lead":case"lag":case"first_value":case"last_value":case"nth_value":t="navigation-functions";break;case"abs":case"sign":case"is_inf":case"is_nan":case"ieee_divide":case"sqrt":case"pow":case"power":case"exp":case"ln":case"log":case"log":case"log10":case"greatest":case"least":case"div":case"mod":t="mathematical-functions";break;case"round":case"trunc":case"ceil":case"ceiling":case"floor":t="rounding-functions";break;case"cos":case"cosh":case"acos":case"acosh":case"sin":case"sinh":case"asin":case"asinh":case"tan":case"tanh":case"atan":case"atanh":case"atan2":t="trigonometric-and-hyperbolic-functions";break;case"byte_length":t="byte_length";break;case"char_length":t="char_length";break;case"character_length":t="character_length";break;case"concat":t="concat";break;case"ends_with":t="ends_with";break;case"length":t="length";break;case"lower":t="lower";break;case"ltrim":t="ltrim";break;case"regexp_contains":t="regexp_contains";break;case"regexp_extract":t="regexp_extract";break;case"regexp_extract_all":t="regexp_extract_all";break;case"regexp_match":t="regexp_match";break;case"regexp_replace":t="regexp_replace";break;case"replace":t="replace";break;case"rtrim":t="rtrim";break;case"safe_convert_bytes_to_string":t="safe_convert_bytes_to_string";break;case"split":t="split";break;case"starts_with":t="starts_with";break;case"strpos":t="strpos";break;case"substr":t="substr";break;case"trim":t="trim";break;case"upper":t="upper";break;case"format":t="string-format";break;case"array_concat":t="array_concat";break;case"array_length":t="array_length";break;case"array_to_string":t="array_to_string";break;case"offset":case"ordinal":t="offset-and-ordinal";break;case"current_timestamp":case"current_date":t="date-and-timestamp-functions";break;case"extract":t="part-access-functions";break;case"date_add":case"date_sub":case"date_diff":case"date_trunc":t="date";break;case"timestamp_add":case"timestamp_sub":case"timestamp_diff":case"timestamp_trunc":t="timestamp";break;case"format_timestamp":t="format-functions";break;case"parse_timestamp":t="parse-functions";break;case"in operators":t="in-operators";break;case"is operators":t="is-operators";break;case"case":case"case when":case"coalesce":case"if":case"ifnull":case"nullif":t="conditional-expressions";break;case"array":case"in":case"exists":t="expression-subqueries";break;default:t=""}if(""!=t)return"https://cloud.google.com/bigquery/sql-reference/functions-and-operators#"+t}return""}});